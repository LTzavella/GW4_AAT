"0","#Correct lagged coordinates "
"0","AAT_data <- lapply(AAT_data, transform, mousey = lead(values.y, 1))"
"0","AAT_data <- lapply(AAT_data, transform, mousex = lead(values.x, 1))"
"0",""
"0","#RT values on start_aat trial events should be 0. This step is important for the interpolation, if this is not set to 0, it won't work properly."
"0","AAT_data <- lapply(AAT_data, transform, rt = ifelse(trialcode==""start_aat"", 0, rt))"
"0",""
"0","#Extract relevant data from the lists and replicate for each trial 100 times to bind with interpolated data "
"0","#Interpolation will not include 'iti_aat' trials as these affect the results and are not part of mouse trajectories"
"0",""
"0","#Please note that this may take a few minutes"
"0",""
"0","AAT_inter <- lapply(AAT_data, function(i) cbind(ddply(subset(i, trialcode!=""iti_aat""), .(trial, condition), interp), "
"0","                      ddply(i, .(trial), function(x) cbind(repr(x$values.init_correct[x$trialcode==""iti_aat""], 100), "
"0","                                                  repr(x$values.final_correct[x$trialcode==""iti_aat""], 100),"
"0","                                                  repr(x$values.aat_correct[x$trialcode==""iti_aat""], 100),"
"0","                                                  repr(x$display.canvasheight[1], 100),"
"0","                                                  repr(x$display.canvaswidth[1], 100),"
"0","                                                  repr(x$values.init_time[x$trialcode==""iti_aat""], 100),"
"0","                                                  repr(x$values.initial_response[x$trialcode==""iti_aat""], 100),"
"0","                                                  repr(x$values.final_response[x$trialcode==""iti_aat""], 100),"
"0","                                                  repr(x$script.subjectid[1], 100)))))"
"0",""
"0",""
"0",""
"0","#Remove trial number which was added again"
"0","AAT_inter <- lapply(AAT_inter, subset, select=c(1:5, 7:15))"
"0",""
"0","#Rename new columns"
"0","new_colnames <- c(""trial"", ""condition"", ""rt"", ""mousey"", ""mousex"", ""init_correct"", ""final_correct"", ""aat_correct"", ""height"", ""width"", ""init_time"", ""init_response"", ""final_response"", ""id"")"
"0",""
"0","AAT_inter <- lapply(AAT_inter, setnames, new_colnames)"
